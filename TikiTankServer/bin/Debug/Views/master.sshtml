<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>TikiTank Console</title>
<script src="@Path['~/content/jquery-2.1.1.min.js']"></script>
<script src="@Path['~/content/raphael-min.js']"></script>
<script src="@Path['~/content/colorwheel.js']"></script>
<script>
$(document).ready(function(){
  
	// Get sides effects
    $.getJSON("/api/sides/effects",function(data,status)
    {
		for (var i=0, len=data.length; i < len; i++) {
			$("#sidesTab").append(getEffectHtml(data[i],"sides"));
			console.log(data[i]);
		}
    });

	// get treads effects
    $.getJSON("/api/treads/effects",function(data,status)
    {
		for (var i=0, len=data.length; i < len; i++) {
			$("#treadsTab").append(getEffectHtml(data[i],"treads"));
			console.log(data[i]);
		}
    });
});

function getEffectHtml(effect, api)
{
	var html = "<div class=\"effectInfo\" onClick=\"selectEffect("+effect.id+",'"+api+"')\">"; 
	html += effect.name;
	html += "</div>";

	return html;
}

function selectEffect(id, api)
{
 $.post("/api/"+api+"/effect/"+id);
 /*
  {
    name:"Donald Duck",
    city:"Duckburg"
  },
  function(data,status){
    alert("Data: " + data + "\nStatus: " + status);
  });*/
}


function setEffectParameters(api, color, arg)
{
	var clr = color.toString().replace("#", "");

 $.post("/api/"+api+"/effect/", 
  {
    color: clr,
    argument: arg
  },
  function(data,status){
   // alert("Data: " + data + "\nStatus: " + status);
  });
  
}

</script>



</head>
<body>


@Section['Content']
</body>
</html>